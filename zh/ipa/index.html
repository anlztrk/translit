<!doctype html>
<html> 
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Arimo&display=swap" rel="stylesheet">
<title>Pinyin - IPA converter</title><script type="text/javascript" src="conversion.js"></script>
		<style type="text/css"> 
		@font-face {
			font-family: 'GB-Plus';
			src: url('/translit/fonts/GentiumBookPlus-Regular.ttf') format('truetype');
			font-weight: normal;
			font-style: normal;
			unicode-range: U+000-10FFFF;
		}
		textarea {
			font-family: Arial, 'Liberation Sans', Arimo, sans-serif;
			font-size: 13px;
			width: 500px;
			height: 300px;
		}
		@media (max-width: 720px) {
			table {
				width: 100% !important;
				border-collapse: collapse;
			}

			tr {
				display: block;
				width: 100%;
			}

			td {
				display: block;
				width: 100% !important;
				padding-left: 0 !important;
				padding-right: 0 !important;
			}

			td[colspan] {
				width: 100% !important;
			}

			textarea {
				width: 100% !important;
				height: 300px;
				box-sizing: border-box;
			}
		}
		</style> 
</head> 
<body> 
	<h1>Pinyin - IPA converter</h1> 


<div align="center"> Type or copy a text:<br> 
  <form name=transcription> 
	<table width=90%><tr align=center> 
		<td> in Pinyin romanization: <br> 
	<textarea name="text1" style="resize: none;" onKeyUp="cyrlat()"></textarea> 
		  <br> 
		  <br> 
	<input type=button onClick="transcription.text1.select();copy1()" value="copy" class=bf> &nbsp; &nbsp; 
	<input type=button onClick="reset();transcription.text1.focus()"  value="clear" class=bf><br><br> 
		</td> 
		<td> here you get its (phonemic) IPA transcription:<br> 
	<textarea name="text2" style="resize: none;" onKeyUp="latcyr()"></textarea> 
			  <br> 
		  <br> 
	<input type=button onClick="transcription.text2.select();copy2()" value="copy" class=bf> &nbsp; &nbsp; 
	<input type=button onClick="reset();transcription.text2.focus()"  value="clear" class=bf><br><br> 
	</td></tr></table>
<script>
// Sync scroll positions of both textareas
function syncScroll(e) {
    const t1 = document.getElementsByName("text1")[0];
    const t2 = document.getElementsByName("text2")[0];

    const source = e.target;

    // Scroll percentage of source
    const percent = source.scrollTop / (source.scrollHeight - source.clientHeight);

    // Apply to other textarea
    [t1, t2].forEach(t => {
        if (t !== source) {
            t.scrollTop = percent * (t.scrollHeight - t.clientHeight);
        }
    });
}

window.addEventListener("DOMContentLoaded", function() {
    const t1 = document.getElementsByName("text1")[0];
    const t2 = document.getElementsByName("text2")[0];

    t1.addEventListener("scroll", syncScroll);
    t2.addEventListener("scroll", syncScroll);
});
</script>
</form> 
</body> 
</html> 

