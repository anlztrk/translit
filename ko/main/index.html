<!doctype html>
<html>
  <head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Gentium+Book+Plus&family=Tinos&display=swap" rel="stylesheet">
    <title>Korean Hangeul - Romaja transcriber</title>
    <script type="text/javascript" src="conversion.js"></script>
    <style type="text/css">
      @font-face {
        font-family: 'GB-Plus';
        src: url('/translit/fonts/GentiumBookPlus-Regular.ttf') format('truetype');
        font-weight: normal;
        font-style: normal;
        unicode-range: U+000-10FFFF;
      }

      textarea {
        font-family: 'Gentium Book Plus', 'GB-Plus', 'Liberation Serif', Tinos, Cambria, 'Times New Roman', serif;
        font-size: 15px;
        width: 500px;
        height: 300px;
		}
		@media (max-width: 720px) {
			table {
				width: 100% !important;
				border-collapse: collapse;
			}

			tr {
				display: block;
				width: 100%;
			}

			td {
				display: block;
				width: 100% !important;
				padding-left: 0 !important;
				padding-right: 0 !important;
			}

			td[colspan] {
				width: 100% !important;
			}

			textarea {
				width: 100% !important;
				height: 300px;
				box-sizing: border-box;
			}
		}
		</style>
  </head>
  <body>
    <h1>Korean Hangeul - Romaja transcriber</h1>
    <div align="center"> Type or copy a text<br>
      <form name=transcription>
        <table width="90%" cellspacing="0" cellpadding="0" style="border-collapse: collapse;">
          <!-- Top textarea spanning both -->
          <tr>
            <td colspan="2" style="padding-top: 10px; padding-left: 0; padding-right: 0;">
              <center>in Hangeul:</center>
              <br>
              <textarea name="text1" style="width: 100%; box-sizing: border-box; resize: none;" onKeyUp="topleft();topright()"></textarea>
              <br>
              <br>
              <center>
                <input type=button onClick="transcription.text1.select();copy1()" value="copy" class=bf> &nbsp; &nbsp; <input type=button onClick="reset();transcription.text1.focus()" value="clear" class=bf><br><br>
              </center>
          </tr>
          <tr>
            <!-- Left textarea -->
            <td width="50%">
              <center>here you get its Revised Romanization: </center>
              <br>
              <textarea name="text2" style="width: 100%; box-sizing: border-box; resize: none;" onKeyUp="lefttop();leftright()"></textarea>
              <br>
              <br>
              <center>
                <input type=button onClick="transcription.text2.select();copy2()" value="copy" class=bf> &nbsp; &nbsp; <input type=button onClick="reset();transcription.text2.focus()" value="clear" class=bf><br><br>
              </center>
              <!-- Right textarea -->
            <td width="50%">
              <center>and here its McCune-Reischauer transcription:</center>
              <br>
              <textarea name="text3" style="width: 100%; box-sizing: border-box; resize: none;" onKeyUp="righttop();rightleft()"></textarea>
              <br>
              <br>
              <center>
                <input type=button onClick="transcription.text3.select();copy3()" value="copy" class=bf> &nbsp; &nbsp; <input type=button onClick="reset();transcription.text3.focus()" value="clear" class=bf><br><br>
              </center>
          </tr>
        </table>
        <script>
          // Sync scroll positions of all three textareas
          function syncScroll(e) {
            const t1 = document.getElementsByName("text1")[0];
            const t2 = document.getElementsByName("text2")[0];
            const t3 = document.getElementsByName("text3")[0];
            const source = e.target;
            // Scroll percentage of source
            const percent = source.scrollTop / (source.scrollHeight - source.clientHeight);
            // Apply to other textarea
            [t1, t2, t3].forEach(t => {
              if (t !== source) {
                t.scrollTop = percent * (t.scrollHeight - t.clientHeight);
              }
            });
          }
          window.addEventListener("DOMContentLoaded", function() {
            const t1 = document.getElementsByName("text1")[0];
            const t2 = document.getElementsByName("text2")[0];
            const t3 = document.getElementsByName("text3")[0];
            t1.addEventListener("scroll", syncScroll);
            t2.addEventListener("scroll", syncScroll);
            t3.addEventListener("scroll", syncScroll);
          });
        </script>
      </form>
  </body>
</html>
